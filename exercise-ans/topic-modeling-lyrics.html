
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Assignment X: Topic Modeling Dcard Lyrics &#8212; ENC2045 Computational Linguistics</title>
    
  <link rel="stylesheet" href="../_static/css/index.f658d18f9b420779cfdf24aa0a7e2d77.css">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="../_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="../_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="../_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mycss.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.d3f166471bb80abb5163.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../index.html">
  
  <img src="../_static/ntnu-word-2.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">ENC2045 Computational Linguistics</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <p class="caption collapsible-parent">
 <span class="caption-text">
  INTRODUCTION
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/nlp-primer.html">
   Natural Language Processing: A Primer
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/nlp-pipeline.html">
   NLP Pipeline
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Preprocessing
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../nlp/text-preprocessing.html">
   Text Preprocessing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../nlp/text-normalization-eng.html">
     Text Normalization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nlp/text-tokenization.html">
     Text Tokenization
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nlp/text-enrichment.html">
     Text Enrichment
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nlp/chinese-word-seg.html">
     Chinese Word Segmentation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../nlp/google-colab.html">
     Google Colab
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Text Vectorization
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/text-vec-traditional.html">
   Text Vectorization Using Traditional Methods
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Machine Learning Basics
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/ml-overview.html">
   1. Machine Learning: Overview
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/ml-simple-case.html">
   2. Machine Learning: A Simple Example
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/ml-algorithm.html">
   3. Classification Models
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Machine-Learning NLP
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/ml-sklearn-classification.html">
   1. Sentiment Analysis Using Bag-of-Words
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../nlp/topic-modeling-naive.html">
   2. Topic Modeling: A Naive Example
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Deep Learning NLP
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-neural-network-from-scratch.html">
   Neural Network From Scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-simple-case.html">
   Deep Learning: A Simple Example
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-sentiment-case.html">
   Deep Learning: Sentiment Analysis
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Embeddings and Language Model
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/text-vec-embedding.html">
   Word Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/text-vec-embedding-keras.html">
   Word Embedding Using Keras
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-statistical-language-model.html">
   Statistical Language Model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-sequence-models-intuition.html">
   Sequence Models Intuition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-neural-language-model-primer.html">
   Neural Language Model: A Start
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Seq2Seq, Attention, Transformers, and Transfer Learning
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-seq-to-seq-types.html">
   Attention: Intuition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-seq-to-seq-attention-addition.html">
   Seqeunce Model with Attention for Addition Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-transformers-intuition.html">
   Transformers: Intuition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../temp/dl-transformers-keras.html">
   Text Classification with Transformer
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Exercises
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../exercise/1-python-basics.html">
   Assignment I: Python Basics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercise/2-journal-review.html">
   Assignment II: Journal Articles Review
  </a>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../exercise/3-preprocessing.html">
   Assignment III: Preprocessing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-3-1.html">
     Student Sample 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-3-2.html">
     Student Sample 2
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../exercise/4-chinese-nlp.html">
   Assignment IV: Chinese Language Processing
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-4-1.html">
     Student Sample 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-4-2.html">
     Student Sample 2
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1 collapsible-parent">
  <a class="reference internal" href="../exercise/5-text-vectorization.html">
   Assignment V: Text Vectorization
  </a>
  <ul class="collapse-ul">
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-5-1.html">
     Student Sample 1
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../exercise-student/Assignment-5-2.html">
     Student Sample 2
    </a>
   </li>
  </ul>
  <i class="fas fa-chevron-down">
  </i>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../exercise/6-machine-learning.html">
   Assignment VI: Machine Learning
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  <div style="text-align:center">
<i class="fas fa-chalkboard-teacher fa-2x" style="color:Maroon;margin-right:5px"></i><a href="https://alvinntnu.github.io/NTNU_ENC2045/" target='_blank'>ENC2045 Course Website</a><br>
<i class="fas fa-home fa-2x" style="color:Maroon;margin-right:5px"></i><a href="https://alvinchen.myftp.org/" target='_blank'>Alvin Chen's Homepage</a>
</div>

</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/exercise-ans/topic-modeling-lyrics.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/alvinntnu/NTNU_ENC2045_LECTURES/main?urlpath=tree/exercise-ans/topic-modeling-lyrics.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/alvinntnu/NTNU_ENC2045_LECTURES/blob/main/exercise-ans/topic-modeling-lyrics.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-necessary-dependencies-and-settings">
   Import necessary dependencies and settings
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#sample-corpus-of-text-documents">
   Sample corpus of text documents
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jay-songs">
     Jay Songs
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bag-of-words-model">
   Bag of Words Model
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#latent-dirichlet-allocation">
   Latent Dirichlet Allocation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#show-topics-and-their-weights">
   Show topics and their weights
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#clustering-documents-using-topic-model-features">
   Clustering documents using topic model features
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualize-topic-distributions">
   Visualize topic distributions
  </a>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="assignment-x-topic-modeling-dcard-lyrics">
<h1>Assignment X: Topic Modeling Dcard Lyrics<a class="headerlink" href="#assignment-x-topic-modeling-dcard-lyrics" title="Permalink to this headline">¶</a></h1>
<div class="section" id="import-necessary-dependencies-and-settings">
<h2>Import necessary dependencies and settings<a class="headerlink" href="#import-necessary-dependencies-and-settings" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span><span class="c1">#, category=DeprecationWarning)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">nltk</span><span class="o">,</span> <span class="nn">random</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">movie_reviews</span>
<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">PorterStemmer</span>

<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_colwidth</span> <span class="o">=</span> <span class="mi">200</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sample-corpus-of-text-documents">
<h2>Sample corpus of text documents<a class="headerlink" href="#sample-corpus-of-text-documents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="jay-songs">
<h3>Jay Songs<a class="headerlink" href="#jay-songs" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pickle</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;jay_seg.pickle&#39;</span><span class="p">,</span> <span class="s1">&#39;rb&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">jay_seg</span> <span class="o">=</span> <span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corpus_df</span> <span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;../../../RepositoryData/data/data-chinese-songs-jaychou.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corpus_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>title</th>
      <th>lyric</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>我是如此相信</td>
      <td>鳥群離開了森林 整座天空很灰心\n蝴蝶不再被吸引 玫瑰盛開的很安靜\n遠方的風雨不停 城市蒼白而孤寂\n徘徊無助的人群 焦慮著何時放晴\n故事裡能毀壞的只有風景\n誰也摧毀不了我們的夢境\n弦月旁的流星劃過了天際\n我許下的願望該向誰去說明\n隕石在浩瀚的宇宙間旅行\n璀璨的夜空裡漫天的水晶\n我的禱告終於有了回音\n我是如此相信 在背後支撐的是你\n一直與我並肩而行 仰望等太陽升起\n聽...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>英雄</td>
      <td>人生不是ㄧ個人的遊戲\nㄧ起奮鬥ㄧ起超越ㄧ起殺吧sup兄弟\n好戰好勝戰勝逆命\n管他天賦夠不夠我們都還需要再努力\n你的劍就是我的劍\n艾希的箭可不可以準ㄧ點  嘿\n你打野我來控兵線\n不要隨便慌張就交閃現\n旋轉跳躍你閉著眼\n卡特轉完會讓你閉上眼\n悟空蓋倫也轉圈圈\n盲僧李先生ㄧ腳把你  踢回老家\n擊殺  雙殺  三殺  Penta kill\n扛塔  偷拆  插眼讓我傳送\n...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>雙截棍</td>
      <td>岩燒店的煙味瀰漫  隔壁是國術館\n店裡面的媽媽桑  茶道  有三段\n教拳腳武術的老板  練鐵沙掌  耍楊家槍\n硬底子功夫最擅長  還會金鐘罩鐵布衫\n他們兒子我習慣  從小就耳濡目染\n什麼刀槍跟棍棒  我都耍的有模有樣\n什麼兵器最喜歡  雙截棍柔中帶剛\n想要去河南嵩山  學少林跟武當\n幹什麼(客)  幹什麼(客)  呼吸吐納心自在\n幹什麼(客)  幹什麼(客)  氣沉丹田手...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>開不了口</td>
      <td>才離開沒多久就開始  擔心今天的妳過得好不好\n整個畫面是妳  想妳想的睡不著\n嘴嘟嘟那可愛的模樣  還有在妳身上香香的味道\n我的快樂是妳  想妳想的都會笑\n沒有妳在我有多難熬(沒有妳在我有多難熬多煩惱)\n沒有妳煩我有多煩惱(沒有妳煩我有多煩惱多難熬)\n穿過雲層  我試著努力向妳奔跑\n愛才送到  妳卻已在別人懷抱\n就是開不了口  讓她知道\n我一定會呵護著妳  也逗妳笑\n妳...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>床邊故事</td>
      <td>從前從前有隻貓頭鷹  牠站在屋頂\n屋頂後面一遍森林  森林很安靜\n安靜的鋼琴在大廳  閣樓裡  仔細聽\n仔細聽  叮叮叮  什麼聲音\n乖乖睡  不要怕  聽我說\n乖乖睡  醒來就  吃蘋果\n不睡覺  的時候  有傳說\n會有人  咬你的  小指頭\n這故事  繼續翻頁  再翻頁\n你繼續  不想睡  我卻想睡\n然後我準備  去打開衣櫃\n去看看  躲著誰  去看看  躲著誰\...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">norm_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">w</span> <span class="k">for</span> <span class="n">w</span><span class="p">,</span><span class="n">p</span> <span class="ow">in</span> <span class="n">d</span> <span class="k">if</span> <span class="n">p</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;Na&#39;</span><span class="p">,</span><span class="s1">&#39;VC&#39;</span><span class="p">]])</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">jay_seg</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">norm_corpus</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;鳥群 離開 森林 灰心 蝴蝶 玫瑰 風雨 人群 故事 毀壞 風景 摧毀不了 夢境 弦月 流星 劃過 許下 願望 隕石 宇宙 水晶 回音 支撐 仰望 太陽 鳥群 聲音 守候 人 信心 雙手 彈奏 出 鳥群 離開 森林 蝴蝶 玫瑰 風雨 人群 故事 毀壞 風景 摧毀不了 夢境 弦月 流星 許下 願望 隕石 宇宙 水晶 回音 支撐 仰望 等 太陽 鳥群 聲音 守候 人 信心 雙手 彈奏 出 支撐 仰望 等 太陽 鳥群 聲音 守候 人 信心 雙手 彈奏出&#39;
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="bag-of-words-model">
<h2>Bag of Words Model<a class="headerlink" href="#bag-of-words-model" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Bag-of-words model is the simplest way to vectorize texts into numeric representations.</p></li>
<li><p>In short, it is a method to represent a text using its word frequency list.</p></li>
<li><p>The sequential order of words in the text is therefore naively ignored.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">CountVectorizer</span>
<span class="c1"># get bag of words features in sparse format</span>
<span class="n">cv</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">min_df</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">max_df</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span><span class="n">token_pattern</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;[^\s0-9]+&#39;</span><span class="p">)</span>
<span class="n">cv_matrix</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">norm_corpus</span><span class="p">)</span>
<span class="n">cv_matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;212x1353 sparse matrix of type &#39;&lt;class &#39;numpy.int64&#39;&gt;&#39;
	with 6039 stored elements in Compressed Sparse Row format&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># view dense representation </span>
<span class="c1"># warning might give a memory error if data is too big</span>
<span class="n">cv_matrix</span> <span class="o">=</span> <span class="n">cv_matrix</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
<span class="n">cv_matrix</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([[0, 0, 0, ..., 0, 0, 0],
       [0, 0, 0, ..., 0, 0, 0],
       [0, 0, 0, ..., 0, 0, 0],
       ...,
       [0, 0, 0, ..., 0, 0, 0],
       [0, 0, 0, ..., 0, 0, 0],
       [0, 0, 0, ..., 0, 0, 0]])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># get all unique words in the corpus</span>
<span class="n">vocab</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">())</span>
<span class="c1"># show document feature vectors</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cv_matrix</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">vocab</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>..</th>
      <th>...</th>
      <th>一</th>
      <th>一生</th>
      <th>一統</th>
      <th>上</th>
      <th>上帝</th>
      <th>下</th>
      <th>世事</th>
      <th>世人</th>
      <th>...</th>
      <th>默</th>
      <th>默劇</th>
      <th>默契</th>
      <th>默片</th>
      <th>點</th>
      <th>點亮</th>
      <th>點心</th>
      <th>鼻子</th>
      <th>龍</th>
      <th>龍捲風</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>207</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>208</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>209</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>210</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>211</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>212 rows × 1353 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="latent-dirichlet-allocation">
<h2>Latent Dirichlet Allocation<a class="headerlink" href="#latent-dirichlet-allocation" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Find optimal topic number</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%time</span>
<span class="kn">from</span> <span class="nn">sklearn.decomposition</span> <span class="kn">import</span> <span class="n">LatentDirichletAllocation</span>
<span class="kn">from</span> <span class="nn">sklearn.model_selection</span> <span class="kn">import</span> <span class="n">GridSearchCV</span>

<span class="c1"># Options to try with our LDA</span>
<span class="c1"># Beware it will try *all* of the combinations, so it&#39;ll take ages</span>
<span class="n">search_params</span> <span class="o">=</span> <span class="p">{</span>
  <span class="s1">&#39;n_components&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">],</span>
  <span class="s1">&#39;learning_decay&#39;</span><span class="p">:</span> <span class="p">[</span><span class="o">.</span><span class="mi">5</span><span class="p">,</span> <span class="o">.</span><span class="mi">7</span><span class="p">]</span>
<span class="p">}</span>

<span class="c1"># Set up LDA with the options we&#39;ll keep static</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">LatentDirichletAllocation</span><span class="p">(</span><span class="n">learning_method</span><span class="o">=</span><span class="s1">&#39;batch&#39;</span><span class="p">,</span> <span class="n">max_iter</span> <span class="o">=</span> <span class="mi">10000</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># Try all of the options</span>
<span class="n">gridsearch</span> <span class="o">=</span> <span class="n">GridSearchCV</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">param_grid</span><span class="o">=</span><span class="n">search_params</span><span class="p">,</span> <span class="n">n_jobs</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">gridsearch</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">cv_matrix</span><span class="p">)</span>

<span class="c1">## Save the best model</span>
<span class="n">best_lda</span> <span class="o">=</span> <span class="n">gridsearch</span><span class="o">.</span><span class="n">best_estimator_</span>

<span class="c1">## took 2h 42min 28s</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Fitting 5 folds for each of 10 candidates, totalling 50 fits
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[Parallel(n_jobs=-1)]: Using backend LokyBackend with 4 concurrent workers.
[Parallel(n_jobs=-1)]: Done  42 tasks      | elapsed: 126.8min
[Parallel(n_jobs=-1)]: Done  50 out of  50 | elapsed: 149.6min finished
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 11min 43s, sys: 4.01 s, total: 11min 47s
Wall time: 2h 42min 28s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cv_results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">gridsearch</span><span class="o">.</span><span class="n">cv_results_</span><span class="p">)</span>
<span class="n">cv_results_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>mean_fit_time</th>
      <th>std_fit_time</th>
      <th>mean_score_time</th>
      <th>std_score_time</th>
      <th>param_learning_decay</th>
      <th>param_n_components</th>
      <th>params</th>
      <th>split0_test_score</th>
      <th>split1_test_score</th>
      <th>split2_test_score</th>
      <th>split3_test_score</th>
      <th>split4_test_score</th>
      <th>mean_test_score</th>
      <th>std_test_score</th>
      <th>rank_test_score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>713.381181</td>
      <td>18.402268</td>
      <td>0.025866</td>
      <td>0.003338</td>
      <td>0.5</td>
      <td>4</td>
      <td>{'learning_decay': 0.5, 'n_components': 4}</td>
      <td>-18753.338413</td>
      <td>-18605.844619</td>
      <td>-18747.728093</td>
      <td>-19624.055808</td>
      <td>-19895.424750</td>
      <td>-19125.278337</td>
      <td>527.749817</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>680.229616</td>
      <td>14.324856</td>
      <td>0.030696</td>
      <td>0.003006</td>
      <td>0.5</td>
      <td>5</td>
      <td>{'learning_decay': 0.5, 'n_components': 5}</td>
      <td>-19425.584131</td>
      <td>-19268.965549</td>
      <td>-19345.123411</td>
      <td>-20410.443174</td>
      <td>-20591.719535</td>
      <td>-19808.367160</td>
      <td>570.650188</td>
      <td>3</td>
    </tr>
    <tr>
      <th>2</th>
      <td>645.259369</td>
      <td>19.034365</td>
      <td>0.034191</td>
      <td>0.005401</td>
      <td>0.5</td>
      <td>6</td>
      <td>{'learning_decay': 0.5, 'n_components': 6}</td>
      <td>-20099.794346</td>
      <td>-19925.540086</td>
      <td>-20005.228409</td>
      <td>-21066.560406</td>
      <td>-21177.728864</td>
      <td>-20454.970422</td>
      <td>548.659544</td>
      <td>5</td>
    </tr>
    <tr>
      <th>3</th>
      <td>633.004029</td>
      <td>11.746051</td>
      <td>0.029470</td>
      <td>0.002411</td>
      <td>0.5</td>
      <td>7</td>
      <td>{'learning_decay': 0.5, 'n_components': 7}</td>
      <td>-20633.710792</td>
      <td>-20421.088056</td>
      <td>-20546.818837</td>
      <td>-21695.850067</td>
      <td>-21796.748967</td>
      <td>-21018.843344</td>
      <td>598.651963</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>609.596647</td>
      <td>23.534896</td>
      <td>0.028508</td>
      <td>0.003966</td>
      <td>0.5</td>
      <td>8</td>
      <td>{'learning_decay': 0.5, 'n_components': 8}</td>
      <td>-21080.415836</td>
      <td>-21030.644479</td>
      <td>-21083.634725</td>
      <td>-22302.460638</td>
      <td>-22311.274387</td>
      <td>-21561.686013</td>
      <td>608.734573</td>
      <td>9</td>
    </tr>
    <tr>
      <th>5</th>
      <td>701.364410</td>
      <td>13.725163</td>
      <td>0.029705</td>
      <td>0.002210</td>
      <td>0.7</td>
      <td>4</td>
      <td>{'learning_decay': 0.7, 'n_components': 4}</td>
      <td>-18753.338413</td>
      <td>-18605.844619</td>
      <td>-18747.728093</td>
      <td>-19624.055808</td>
      <td>-19895.424750</td>
      <td>-19125.278337</td>
      <td>527.749817</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>711.663058</td>
      <td>50.873928</td>
      <td>0.028580</td>
      <td>0.002723</td>
      <td>0.7</td>
      <td>5</td>
      <td>{'learning_decay': 0.7, 'n_components': 5}</td>
      <td>-19425.584131</td>
      <td>-19268.965549</td>
      <td>-19345.123411</td>
      <td>-20410.443174</td>
      <td>-20591.719535</td>
      <td>-19808.367160</td>
      <td>570.650188</td>
      <td>3</td>
    </tr>
    <tr>
      <th>7</th>
      <td>758.373666</td>
      <td>28.301840</td>
      <td>0.030743</td>
      <td>0.006270</td>
      <td>0.7</td>
      <td>6</td>
      <td>{'learning_decay': 0.7, 'n_components': 6}</td>
      <td>-20099.794346</td>
      <td>-19925.540086</td>
      <td>-20005.228409</td>
      <td>-21066.560406</td>
      <td>-21177.728864</td>
      <td>-20454.970422</td>
      <td>548.659544</td>
      <td>5</td>
    </tr>
    <tr>
      <th>8</th>
      <td>777.899082</td>
      <td>17.296313</td>
      <td>0.023996</td>
      <td>0.002684</td>
      <td>0.7</td>
      <td>7</td>
      <td>{'learning_decay': 0.7, 'n_components': 7}</td>
      <td>-20633.710792</td>
      <td>-20421.088056</td>
      <td>-20546.818837</td>
      <td>-21695.850067</td>
      <td>-21796.748967</td>
      <td>-21018.843344</td>
      <td>598.651963</td>
      <td>7</td>
    </tr>
    <tr>
      <th>9</th>
      <td>737.206787</td>
      <td>88.862735</td>
      <td>0.033960</td>
      <td>0.011844</td>
      <td>0.7</td>
      <td>8</td>
      <td>{'learning_decay': 0.7, 'n_components': 8}</td>
      <td>-21080.415836</td>
      <td>-21030.644479</td>
      <td>-21083.634725</td>
      <td>-22302.460638</td>
      <td>-22311.274387</td>
      <td>-21561.686013</td>
      <td>608.734573</td>
      <td>9</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="n">sns</span><span class="o">.</span><span class="n">pointplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s2">&quot;param_n_components&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;mean_test_score&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;param_learning_decay&quot;</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">cv_results_df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:xlabel=&#39;param_n_components&#39;, ylabel=&#39;mean_test_score&#39;&gt;
</pre></div>
</div>
<img alt="../_images/topic-modeling-lyrics_20_1.png" src="../_images/topic-modeling-lyrics_20_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">## Permanent Setting Version</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.sans-serif&#39;</span><span class="p">]</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;PingFang HK&quot;</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">plot_top_words</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">feature_names</span><span class="p">,</span> <span class="n">n_top_words</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">fig_grid</span><span class="o">=</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">fig_grid</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">fig_grid</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">30</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span> <span class="n">sharex</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">axes</span> <span class="o">=</span> <span class="n">axes</span><span class="o">.</span><span class="n">flatten</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">topic_idx</span><span class="p">,</span> <span class="n">topic</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">components_</span><span class="p">):</span>
        <span class="n">top_features_ind</span> <span class="o">=</span> <span class="n">topic</span><span class="o">.</span><span class="n">argsort</span><span class="p">()[:</span><span class="o">-</span><span class="n">n_top_words</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">top_features</span> <span class="o">=</span> <span class="p">[</span><span class="n">feature_names</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">top_features_ind</span><span class="p">]</span>
        <span class="n">weights</span> <span class="o">=</span> <span class="n">topic</span><span class="p">[</span><span class="n">top_features_ind</span><span class="p">]</span>

        <span class="n">ax</span> <span class="o">=</span> <span class="n">axes</span><span class="p">[</span><span class="n">topic_idx</span><span class="p">]</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">top_features</span><span class="p">,</span> <span class="n">weights</span><span class="p">,</span> <span class="n">height</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Topic </span><span class="si">{</span><span class="n">topic_idx</span> <span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
                     <span class="n">fontdict</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;fontsize&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">})</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">invert_yaxis</span><span class="p">()</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s1">&#39;major&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="s1">&#39;top right left&#39;</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
            <span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">set_visible</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
        <span class="n">fig</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>

    <span class="n">plt</span><span class="o">.</span><span class="n">subplots_adjust</span><span class="p">(</span><span class="n">top</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="mf">0.05</span><span class="p">,</span> <span class="n">wspace</span><span class="o">=</span><span class="mf">0.90</span><span class="p">,</span> <span class="n">hspace</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plot_top_words</span><span class="p">(</span><span class="n">best_lda</span><span class="p">,</span> <span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span> <span class="n">n_top_words</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Jay&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/topic-modeling-lyrics_22_0.png" src="../_images/topic-modeling-lyrics_22_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">doc_topic_matrix</span> <span class="o">=</span> <span class="n">best_lda</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">cv_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span> <span class="n">num_of_topic</span> <span class="o">=</span> <span class="mi">4</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># %%time</span>
<span class="c1"># from sklearn.decomposition import LatentDirichletAllocation</span>


<span class="c1"># lda = LatentDirichletAllocation(n_components=num_of_topic, max_iter=10000, random_state=0,</span>
<span class="c1">#                                max_doc_update_iter=50, learning_method=&#39;online&#39;,</span>
<span class="c1">#                                batch_size=50, learning_offset = 50, n_jobs = -1)</span>
<span class="c1"># dt_matrix = lda.fit_transform(cv_matrix) # document matrix</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># features = pd.DataFrame(dt_matrix, columns = [&quot;T&quot;+str(n) for n in range(1,num_of_topic+1)])</span>
<span class="c1"># features</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="show-topics-and-their-weights">
<h2>Show topics and their weights<a class="headerlink" href="#show-topics-and-their-weights" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># tt_matrix = lda.components_ # topic matrix</span>
<span class="c1"># for topic_weights in tt_matrix:</span>
<span class="c1">#     topic = [(token, weight) for token, weight in zip(vocab, topic_weights)]</span>
<span class="c1">#     topic = sorted(topic, key=lambda x: -x[1])</span>
<span class="c1">#     topic = [item for item in topic if item[1] &gt; 0.6]</span>
<span class="c1">#     print(topic)</span>
<span class="c1">#     print()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">topic_terms</span> <span class="o">=</span> <span class="n">best_lda</span><span class="o">.</span><span class="n">components_</span>
<span class="n">top_terms</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">topic_keywords_idxs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">absolute</span><span class="p">(</span><span class="n">topic_terms</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[:,:</span><span class="n">top_terms</span><span class="p">]</span>
<span class="n">topic_keywords</span> <span class="o">=</span> <span class="n">vocab</span><span class="p">[</span><span class="n">topic_keywords_idxs</span><span class="p">]</span>
<span class="n">topics</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">w</span><span class="p">)</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">topic_keywords</span><span class="p">]</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
<span class="n">topics_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">topics</span><span class="p">,</span>
                        <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Keywords per Topic&#39;</span><span class="p">],</span>
                        <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Topic&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">num_of_topic</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">topics_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Keywords per Topic</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Topic1</th>
      <td>手, 人, 看, 離開, 時間, 夢, 牽, 女人, 淚, 臉, 風, 故事, 陪, 開, 帶, 眼淚, 望, 放, 功夫, 雨</td>
    </tr>
    <tr>
      <th>Topic2</th>
      <td>打, 媽媽, 咪, 手, 爸爸, 看, 話, 讀, 茶, 愛情, 寫, 泡, 媽, 爺爺, 嚐, 冰淇淋, 味道, 心, 牽, 事</td>
    </tr>
    <tr>
      <th>Topic3</th>
      <td>人, 看, 唱, 鈴, 寫, 龍, 時候, 吃, 雙截棍, 陪, 夢, 等, 做, 天, 找, 拿, 愛情, 錢, 手, 使用</td>
    </tr>
    <tr>
      <th>Topic4</th>
      <td>人, 等, 離開, 風, 心, 看, 愛, 話, 臉, 手, 愛情, 雨, 娘子, 歌詞, 眼淚, 陽光, 光, 感覺, 靈魂, 耍</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">float_format</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">{:,.5f}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span>
<span class="n">pd</span><span class="o">.</span><span class="n">set_option</span><span class="p">(</span><span class="s1">&#39;display.max_colwidth&#39;</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>


<span class="n">dt_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">doc_topic_matrix</span><span class="p">,</span>
                    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Topic&quot;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">n</span><span class="p">)</span> <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">num_of_topic</span><span class="o">+</span><span class="mi">1</span><span class="p">)])</span>

<span class="n">max_contrib_topics</span> <span class="o">=</span> <span class="n">dt_df</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">dominant_topics</span> <span class="o">=</span> <span class="n">max_contrib_topics</span><span class="o">.</span><span class="n">index</span>
<span class="n">contrib_perc</span> <span class="o">=</span> <span class="n">max_contrib_topics</span><span class="o">.</span><span class="n">values</span>
<span class="n">document_numbers</span> <span class="o">=</span> <span class="p">[</span><span class="n">dt_df</span><span class="p">[</span><span class="n">dt_df</span><span class="p">[</span><span class="n">t</span><span class="p">]</span><span class="o">==</span><span class="n">max_contrib_topics</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">t</span><span class="p">]]</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">dominant_topics</span><span class="p">]</span>
<span class="n">documents</span> <span class="o">=</span> <span class="p">[</span><span class="n">norm_corpus</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">document_numbers</span><span class="p">]</span>

<span class="n">documents_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Dominant Topic&#39;</span><span class="p">:</span> <span class="n">dominant_topics</span><span class="p">,</span>
                            <span class="s1">&#39;Contribution%&#39;</span><span class="p">:</span> <span class="n">contrib_perc</span><span class="p">,</span>
                            <span class="s1">&#39;DOCID&#39;</span><span class="p">:</span> <span class="n">document_numbers</span><span class="p">,</span>
                            <span class="s1">&#39;Topic&#39;</span><span class="p">:</span> <span class="n">topics_df</span><span class="p">[</span><span class="s1">&#39;Keywords per Topic&#39;</span><span class="p">],</span>
                            <span class="s1">&#39;Text&#39;</span><span class="p">:</span> <span class="n">documents</span><span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">documents_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Dominant Topic</th>
      <th>Contribution%</th>
      <th>DOCID</th>
      <th>Topic</th>
      <th>Text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Topic1</th>
      <td>Topic1</td>
      <td>0.99505</td>
      <td>111</td>
      <td>手, 人, 看, 離開, 時間, 夢, 牽, 女人, 淚, 臉, 風, 故事, 陪, 開, 帶, 眼淚, 望, 放, 功夫, 雨</td>
      <td>望 星星 望 星星 望 星星 望 星 乘 風　 雲 形狀 風 吃掉 載 載 陽光 蝴蝶 花 佈滿 夕陽 你我 迎 風 手 牽 手 望 天 看 星星 線 背對背 許下 心願 看 星 手 牽 手 望 天 看 星星 連成 線 背對背 許下 心願 看 星 實現 朋友 歌聲 手 手 歌曲 燈 時間 分寸 輕重 分 支撐 看 身影 黑暗 夢 空間 抱 臉 看 看 夢 畫面 故事 離 時間 抱 挽留 燈...</td>
    </tr>
    <tr>
      <th>Topic2</th>
      <td>Topic2</td>
      <td>0.99294</td>
      <td>120</td>
      <td>打, 媽媽, 咪, 手, 爸爸, 看, 話, 讀, 茶, 愛情, 寫, 泡, 媽, 爺爺, 嚐, 冰淇淋, 味道, 心, 牽, 事</td>
      <td>爺爺 泡 茶 味道 泡 茶 名 利 拿 爺爺 泡 茶 味道 爺爺 泡 茶 口感 味覺 陸羽 泡 茶 山水畫 山泉 地表 臉 泉水 礦層巖 爺爺 栽種 樟木 樹苗 躲 屋簷 爺爺 抽 煙 陸羽　 寫 茶經 翻閱 字典 字眼 事 海角 時間 茶桌 樟木 年輪 鏡頭 臉 年 爺爺 手繭 泡 水 茶色 爺爺 泡 茶 味道 家  挑剔 口感 味覺 陸羽 泡 茶　 名 利 拿 牽 馬 爺爺 泡 茶 味...</td>
    </tr>
    <tr>
      <th>Topic3</th>
      <td>Topic3</td>
      <td>0.99478</td>
      <td>194</td>
      <td>人, 看, 唱, 鈴, 寫, 龍, 時候, 吃, 雙截棍, 陪, 夢, 等, 做, 天, 找, 拿, 愛情, 錢, 手, 使用</td>
      <td>等 寫完 詞 出 專輯 歌 時期 梯田 看過 綠地 攝影 畫面 寫 詞 詩人 公車 看 窗 牛 啃 草 自由自在 那魯灣 牛兒 水溝 流 夢 收割期 人們 汗水 畫面 作品 油畫 拿到 獎狀 用 哼 撕掉 換回 自然 梯田 看 西洋片 水牛　 畫　 掛 牆壁 人們 蒸蒸日上 遊客 看看 窗 景點 牛兒 那魯灣 利用 利用 人類 破壞 自然 生態 藝術 砍下 樹 　醬 裝飾 事 相機 紀錄 ...</td>
    </tr>
    <tr>
      <th>Topic4</th>
      <td>Topic4</td>
      <td>0.99521</td>
      <td>186</td>
      <td>人, 等, 離開, 風, 心, 看, 愛, 話, 臉, 手, 愛情, 雨, 娘子, 歌詞, 眼淚, 陽光, 光, 感覺, 靈魂, 耍</td>
      <td>前奏 巷 章 推向 接近 事實 石楠 煙斗 霧  樹  圓形 盔甲 騎士 臂 徽章 人 馬車 聲響 拜訪 月光 血色 手槍 手杖 蠟像 珠寶箱 符號 假象 堆砌 證據 埋葬 嘲弄 樂章 正義 終場 寫上 點亮 灰燼 微光 晨曦 光 風乾 雨滴 清洗 牆 黑色 墨  關上 布幕 間奏 事實 穿 腳印 土壤 花香 服裝 人 理由 戴 面具 動機 名字 欲望 人性 沼澤 弄髒 真相 鐵床 圖 拼...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pyLDAvis</span>
<span class="kn">import</span> <span class="nn">pyLDAvis.sklearn</span>
<span class="kn">import</span> <span class="nn">dill</span>

<span class="n">pyLDAvis</span><span class="o">.</span><span class="n">enable_notebook</span><span class="p">()</span>
<span class="n">cv_matrix2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">matrix</span><span class="p">(</span><span class="n">cv_matrix</span><span class="p">)</span>
<span class="n">pyLDAvis</span><span class="o">.</span><span class="n">sklearn</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">best_lda</span><span class="p">,</span> <span class="n">cv_matrix2</span><span class="p">,</span> <span class="n">cv</span><span class="p">,</span> <span class="n">mds</span><span class="o">=</span><span class="s2">&quot;mmds&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.2.2/pyLDAvis/js/ldavis.v1.0.0.css">


<div id="ldavis_el819771406353897965446630769311"></div>
<script type="text/javascript">

var ldavis_el819771406353897965446630769311_data = {"mdsDat": {"x": [-0.1422065593048668, 0.04308204248526146, 0.1633602710380247, -0.06423575421841929], "y": [0.06443020796003306, 0.15296862790330076, -0.043077095913923565, -0.17432173994941025], "topics": [1, 2, 3, 4], "cluster": [1, 1, 1, 1], "Freq": [31.409209601181693, 29.26039071829279, 21.744185300204066, 17.586214380321458]}, "tinfo": {"Term": ["\u6253", "\u5abd\u5abd", "\u54aa", "\u7238\u7238", "\u8336", "\u8b80", "\u9234", "\u96e2\u958b", "\u6642\u9593", "\u5973\u4eba", "\u6ce1", "\u5abd", "\u96d9\u622a\u68cd", "\u9f8d", "\u5beb", "\u723a\u723a", "\u5690", "\u5a18\u5b50", "\u8a71", "\u671b", "\u51b0\u6dc7\u6dcb", "\u727d", "\u6642\u5019", "\u9322", "\u7b49", "\u966a", "\u62ff", "\u62b1", "\u4eba", "\u7238", "\u671b", "\u7537\u4eba", "\u8a31\u4e0b", "\u5973\u4eba", "\u661f", "\u529b\u6c23", "\u963b\u7919", "\u6bba", "\u62b1", "\u8461\u8404", "\u80cc\u5c0d\u80cc", "\u653e\u958b", "\u751f\u6b7b", "\u7a7f\u4e0a", "\u5fc3\u9858", "\u89e3\u85e5", "\u8840", "\u4f4f", "\u64b2", "\u652f\u6490", "\u529b", "\u8cbb", "\u60b2\u5287", "\u63a5\u53d7", "\u599d", "\u9435\u76d2", "\u6642\u5149", "\u958b\u4e0d\u4e86", "\u529f\u592b", "\u767d", "\u6539\u8b8a", "\u554f\u984c", "\u6642\u9593", "\u653e\u4e0b", "\u727d", "\u6dda", "\u5200", "\u96e2\u958b", "\u60c5\u7dd2", "\u5922", "\u624b", "\u6642\u4ee3", "\u9047\u898b", "\u770b", "\u6545\u4e8b", "\u4eba", "\u5e36", "\u966a", "\u958b", "\u81c9", "\u8072\u97f3", "\u773c\u6dda", "\u653e", "\u756b\u9762", "\u6b4c\u8a5e", "\u98a8", "\u96e8", "\u5230", "\u627e", "\u611f\u89ba", "\u5929", "\u4e8b", "\u5a18\u5b50", "\u776b\u6bdb", "\u694a\u67f3", "\u9f8d\u6372\u98a8", "\u9577\u9aee", "\u8a0a\u865f", "\u6b63\u7fa9", "\u89e3", "\u7f8e\u666f", "\u6bdb\u75c5", "\u526a\u5f71", "\u96fb\u8a71", "\u5beb\u4e0a", "\u6a02\u7ae0", "\u7d42\u5834", "\u914d\u4e0a", "\u63a8\u958b", "\u795e\u7d93", "\u8ffd\u56de", "\u884c\u674e", "\u8a9e", "\u4e00", "\u98a8\u4e7e", "\u7434\u9375", "\u6643", "\u9583", "\u6642\u5dee", "\u9eb5\u5305", "\u87b3\u8782", "\u559d\u5b8c", "\u6298", "\u773c\u795e", "\u5c0f\u5b69", "\u5834\u666f", "\u7b49", "\u5922\u60f3", "\u5149", "\u7a7f", "\u800d", "\u98a8", "\u5fc3", "\u4eba", "\u96e2\u958b", "\u9748\u9b42", "\u611b", "\u5496\u5561", "\u7cd6", "\u8a71", "\u96e8", "\u81c9", "\u4e00\u751f", "\u611b\u60c5", "\u9152", "\u967d\u5149", "\u770b", "\u624b", "\u6b4c\u8a5e", "\u611f\u89ba", "\u773c\u6dda", "\u6253\u958b", "\u82b1", "\u5634", "\u6708\u5149", "\u5531", "\u5922", "\u958b", "\u6dda", "\u9234", "\u9322", "\u5916\u5a46", "\u5011", "\u96d9\u622a\u68cd", "\u547d", "\u610f\u7fa9", "\u5e73\u539f", "\u4ee3", "\u8abf\u6574", "\u8d85\u4eba", "\u725b\u5152", "\u860b\u679c", "\u7d00\u9304\u7247", "\u68af\u7530", "\u62f3\u982d", "\u7246\u58c1", "\u7403", "\u53f3", "\u6587\u5b57", "\u770b\u770b", "\u85dd\u8853", "\u652f\u914d", "\u586b\u5e73", "\u4fef\u77b0", "\u638f\u7a7a", "\u8cfa", "\u8cc7\u683c", "\u7da0\u5730", "\u725b", "\u81ea\u7136", "\u4eba\u5011", "\u6642\u5019", "\u9f8d", "\u8a5e", "\u5730\u7403", "\u62cd", "\u4f7f\u7528", "\u5531", "\u505a", "\u5beb", "\u62ff", "\u770b", "\u5403", "\u4eba", "\u71c8", "\u6f14", "\u5929", "\u966a", "\u8eb2", "\u8eab", "\u627e", "\u96ea", "\u52c7\u6c23", "\u5922", "\u7b49", "\u611b\u60c5", "\u6253\u958b", "\u6b4c", "\u624b", "\u653e", "\u98a8", "\u54aa", "\u7238\u7238", "\u8336", "\u6ce1", "\u5abd", "\u723a\u723a", "\u5690", "\u7238", "\u8b80", "\u624b\u6307", "\u6642\u5149\u6a5f", "\u6c23", "\u51b0\u6dc7\u6dcb", "\u591c\u66f2", "\u6953\u8449", "\u69bb\u69bb\u7c73", "\u5bb6\u5ead", "\u5171\u9cf4", "\u96e8\u6c34", "\u6253", "\u63a0\u596a", "\u63db\u4f86", "\u7d30\u6f22", "\u5fcd\u8005", "\u767d\u9aee", "\u98b3", "\u5b78\u7fd2", "\u5abd\u5abd", "\u611f\u61c9", "\u8b80\u5b8c", "\u6575\u4eba", "\u54e5\u54e5", "\u99ac", "\u7fc5\u8180", "\u5f48\u594f", "\u8a71", "\u5473\u9053", "\u9ea5", "\u8a69", "\u5beb", "\u624b", "\u611b\u60c5", "\u770b", "\u62ff", "\u80cc", "\u4e8b", "\u5634", "\u627e", "\u727d", "\u5fc3", "\u611b", "\u97f3\u6a02", "\u98a8", "\u98a8\u666f", "\u8072\u97f3"], "Freq": [55.0, 54.0, 30.0, 24.0, 21.0, 23.0, 22.0, 98.0, 61.0, 35.0, 18.0, 16.0, 20.0, 29.0, 54.0, 14.0, 14.0, 21.0, 61.0, 22.0, 14.0, 58.0, 28.0, 14.0, 76.0, 42.0, 27.0, 21.0, 176.0, 11.0, 21.88100866624982, 14.6644447097622, 11.950138569156863, 33.18454255149445, 11.047652798916173, 10.147549523378114, 10.14555384382666, 9.250668486244098, 20.080130299237293, 8.348166778562243, 8.339182357513138, 8.328982740750359, 7.443918722833394, 7.440407831528812, 7.435393090487905, 6.543151862409657, 6.540699270826441, 6.535766672248591, 6.5309624391691905, 5.640648599537073, 5.64064134833288, 5.638274673156054, 5.633586080193982, 5.629368361157695, 5.6278788763228045, 5.627650092961113, 5.626396124765942, 5.624819926260071, 20.839520839545546, 12.695178687283184, 14.664750134835344, 10.116957293322503, 48.40099271329214, 11.95754764482637, 38.54595263474162, 29.416297970067646, 8.881884507569115, 53.605158651855646, 16.318764203385317, 40.87711609577655, 65.18323742773354, 13.771829017891056, 10.915827261891598, 59.686281174880676, 24.441260226036135, 63.813674898577695, 22.226526380867448, 23.544874189572518, 22.710084133583653, 26.711702646441015, 18.25571455696155, 21.896140087291744, 21.21728474280962, 18.74140377112207, 19.667550871379465, 24.80112377218531, 20.63073145816352, 15.214205555734255, 16.365118110120143, 15.539358716146484, 15.230486829644937, 15.066108730085322, 20.898944752145443, 9.226221003683415, 9.19127647384068, 9.190546990902693, 8.320163229162592, 8.318578064452367, 8.314356188001918, 8.31359227246613, 7.425979060312877, 7.4253503313851095, 7.424813164398074, 7.423467375266888, 6.525869939945922, 6.525869939945922, 6.525869939945922, 6.525866308347516, 6.525864891549397, 6.525500129617016, 6.524433009932379, 6.5218107101167515, 6.519284039305095, 6.503019612136343, 5.6229383277688205, 5.621523622424757, 5.62108194125499, 5.619392399194414, 5.6071568715597975, 4.725616971864432, 4.725615113714233, 4.72510594115219, 9.840382056974137, 13.231321382797635, 8.327335650858705, 11.024921420974911, 47.6070283964079, 13.24687521778891, 14.251838161362834, 9.226792787313485, 13.67864121142146, 39.39189691294567, 31.09219042240439, 66.0815049612287, 41.6741748274017, 13.734749601845694, 26.11801039476231, 10.980709107656198, 9.926531954776229, 25.99381413998914, 24.18141983478503, 25.475436440918507, 11.256059808940948, 24.611196155076264, 10.816139685496584, 14.977301681360375, 29.082225340200086, 25.134349487874573, 15.992182518288509, 14.159537496323882, 15.34358188008974, 12.584987342300119, 11.495170005220066, 11.782660843526576, 11.391734980119981, 12.99961950993939, 13.220514177765928, 11.780307640605553, 11.43660605335286, 22.112896949993655, 14.21859240296168, 11.604497024108603, 8.101246132634097, 18.587656722148225, 7.210589329202436, 7.210265845909835, 7.203336211455744, 6.349630009309443, 6.34962978834614, 6.348289679898934, 6.344966652851606, 6.343308299274553, 5.473816430198844, 5.471187585466708, 5.464462213404904, 5.461388047776338, 5.46000538183177, 5.457366118536864, 5.444189730572086, 11.585204735207686, 4.598007159142051, 4.598006105082656, 4.598005837574575, 4.598004252386512, 4.597996032751913, 4.5979867279653455, 4.5979865103834126, 4.596448979595259, 4.596445830999586, 7.229757616243221, 7.224873582382724, 19.93423004028315, 20.34904489251272, 6.351075886654807, 11.60645416529478, 11.222254623803577, 11.630316395194075, 24.998356682073478, 15.099234489232938, 22.03126061493628, 14.379590137288698, 39.76749008039196, 19.84200976801044, 42.53926932976301, 9.40170599084546, 7.924615658564313, 14.540345481045051, 16.6412246931313, 10.924342516137553, 9.881068050430526, 14.490529663631046, 8.865905931412875, 9.526435618307971, 15.249804671658737, 15.109389445438044, 14.363288906389707, 10.466284154844066, 10.745776522506814, 13.889182063099051, 10.895612669137567, 10.71964721077568, 30.133505124135816, 24.141639053238077, 20.726298101798676, 18.163146700964614, 15.595703257424319, 13.888680572597174, 13.87336822549463, 10.464678867664427, 21.462036947906736, 7.899430562207446, 7.871632760885892, 7.040278655343588, 13.059121581692601, 5.342839844364866, 5.3417743221980345, 5.33973901577974, 5.336278659602671, 5.333701445197443, 5.331453622628518, 48.698904838859306, 4.487983102215535, 4.484214534650015, 4.484214534650015, 4.484209693229761, 4.479673151731433, 4.476519211368581, 4.472234508655505, 45.751962718280254, 3.633129042641609, 3.6324562600777712, 7.055773339685895, 7.055935312914526, 9.630453567375625, 8.60742939781197, 7.6595152435252585, 22.949191994602376, 12.191862148533172, 7.057469077466986, 7.748682109784525, 18.632479526098212, 28.204563927505863, 19.542075875358634, 23.209670771937965, 10.234475384667638, 7.481676893643513, 10.481973233646102, 9.321324487858982, 10.314290262975085, 10.640368284772322, 10.676314868290975, 9.637643909977424, 8.778426990087763, 9.845502854152487, 8.234893833675013, 8.281367193531759], "Total": [55.0, 54.0, 30.0, 24.0, 21.0, 23.0, 22.0, 98.0, 61.0, 35.0, 18.0, 16.0, 20.0, 29.0, 54.0, 14.0, 14.0, 21.0, 61.0, 22.0, 14.0, 58.0, 28.0, 14.0, 76.0, 42.0, 27.0, 21.0, 176.0, 11.0, 22.54331184172343, 15.323389324743646, 12.61554537815498, 35.10821712716145, 11.713070259689578, 10.810626722904498, 10.810873795610435, 9.908387692540426, 21.614363981630756, 9.005881386283287, 9.005499677377747, 9.005471381803723, 8.103370391817831, 8.10324756399404, 8.102937738108091, 7.200868356546328, 7.200795789449426, 7.200769439576947, 7.200225332022495, 6.2983619639044734, 6.298361733630196, 6.298355840368161, 6.298085800953077, 6.297916603133318, 6.298327580567097, 6.298118244519954, 6.297949291820234, 6.297669314692488, 23.38835222781629, 14.41786321026619, 17.075103454121614, 11.685682568113815, 61.79778975521238, 14.416062797042999, 58.94028693187531, 43.18973547002233, 10.773253565971528, 98.99687634204484, 23.194878769445573, 73.28612874513078, 132.41133290621303, 18.897298884808638, 14.360982223803871, 151.74566736741068, 44.79972297299265, 176.97163595646305, 39.23690329155259, 42.685977840239566, 42.097860886362874, 65.21582266211965, 35.58435353281312, 50.014054507294766, 47.224271383293875, 38.204668630355634, 49.047880378802645, 84.75817075005914, 55.40374294024997, 30.22645914113237, 41.400584711022404, 35.7767323846812, 32.92938389673956, 39.83425305409016, 21.585162226130265, 9.884531169981084, 9.883378795703324, 9.883380134332363, 8.98411183230493, 8.98443000592344, 8.984148183478657, 8.984077561910738, 8.084289554554823, 8.084291201105025, 8.084292721904266, 8.08420980283668, 7.184169082192017, 7.184169082192017, 7.184169082192017, 7.1841689781890015, 7.184168943179479, 7.184169706029941, 7.184116082306827, 7.183984221447795, 7.184186304029395, 7.183433697237837, 6.284055247953656, 6.284058847519155, 6.284059891912407, 6.283926893208273, 6.283450271107511, 5.383927128943799, 5.383927066892888, 5.383928469481555, 11.65259808858983, 16.164775182401048, 9.86025554352612, 13.436392578673885, 76.90370760043096, 17.875441948615702, 19.798701978269513, 11.594270428437955, 19.651762396251243, 84.75817075005914, 61.39075135555419, 176.97163595646305, 98.99687634204484, 20.59586042940799, 54.22822220844186, 15.294635882103801, 13.389107818766714, 61.628427896895786, 55.40374294024997, 65.21582266211965, 17.099051342673118, 71.51069110992569, 16.06797172139497, 30.420598108403368, 151.74566736741068, 132.41133290621303, 49.047880378802645, 35.7767323846812, 50.014054507294766, 30.08926288125292, 25.220914605734546, 28.291810736302438, 25.797987477341298, 58.44071629307068, 73.28612874513078, 42.097860886362874, 43.18973547002233, 22.778655383795094, 14.896613671330734, 12.26887681254048, 8.765629673673006, 20.174949365589754, 7.890179189630486, 7.890132323951776, 7.889746379571171, 7.014006086967982, 7.014006087563532, 7.01404540914242, 7.013894531339305, 7.014167473013845, 6.138194315324231, 6.138131356249774, 6.138405124436959, 6.138331519176467, 6.138159959100264, 6.137800739553558, 6.1385974765368925, 13.169377550306947, 5.262382516264907, 5.262382522608121, 5.262382523755206, 5.262382534185858, 5.262382517515262, 5.262382636635314, 5.262382669264883, 5.262345235540172, 5.262345253467767, 8.789769455520089, 8.789827103502303, 28.11444865496468, 29.62173119909543, 7.916346527519474, 17.683786519817385, 17.55260624314449, 19.198558878588102, 58.44071629307068, 29.239450579779525, 54.21760858835664, 27.868470419248425, 151.74566736741068, 49.61647561870478, 176.97163595646305, 15.043381577654227, 11.478492797990766, 32.92938389673956, 42.685977840239566, 20.31153612145418, 16.826796667096325, 41.400584711022404, 15.052714421246018, 18.64974581218063, 73.28612874513078, 76.90370760043096, 71.51069110992569, 30.08926288125292, 34.82984031918982, 132.41133290621303, 47.224271383293875, 84.75817075005914, 30.803260103289787, 24.81961847797167, 21.400049627067013, 18.83540455150518, 16.270959597883017, 14.561140399984541, 14.561961670153286, 11.141908373288743, 23.133903434929998, 8.577465302380766, 8.578502397444662, 7.722737190363189, 14.605076706513852, 6.012455167234802, 6.0125144554613374, 6.0125801226794575, 6.012664984466381, 6.012679253566481, 6.012824781315899, 55.7468149288235, 5.157600007706133, 5.157751794785194, 5.157751794785194, 5.157752004543595, 5.157803754820972, 5.158214376873313, 5.158287733117921, 54.06752796011399, 4.30274472755039, 4.3027820945500626, 9.473710434654485, 9.52698964321393, 13.888853537246199, 12.113215659511019, 11.298350937907315, 61.628427896895786, 23.66377223765392, 10.422267341354146, 12.18873608154491, 54.21760858835664, 132.41133290621303, 71.51069110992569, 151.74566736741068, 27.868470419248425, 13.949050299577713, 39.83425305409016, 28.291810736302438, 41.400584711022404, 58.94028693187531, 61.39075135555419, 54.22822220844186, 30.813232261221852, 84.75817075005914, 22.080590738414397, 35.58435353281312], "Category": ["Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4"], "logprob": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, -5.0293, -5.4294, -5.6341, -4.6128, -5.7127, -5.7976, -5.7978, -5.8902, -5.1151, -5.9928, -5.9939, -5.9951, -6.1075, -6.1079, -6.1086, -6.2365, -6.2368, -6.2376, -6.2383, -6.3849, -6.3849, -6.3853, -6.3861, -6.3869, -6.3871, -6.3872, -6.3874, -6.3877, -5.078, -5.5736, -5.4294, -5.8007, -4.2354, -5.6335, -4.463, -4.7333, -5.9309, -4.1332, -5.3226, -4.4043, -3.9377, -5.4922, -5.7247, -4.0258, -4.9186, -3.9589, -5.0136, -4.956, -4.9921, -4.8298, -5.2104, -5.0286, -5.0601, -5.1841, -5.1359, -4.904, -5.0881, -5.3926, -5.3197, -5.3715, -5.3916, -5.4024, -5.0043, -5.822, -5.8257, -5.8258, -5.9253, -5.9255, -5.926, -5.9261, -6.039, -6.0391, -6.0392, -6.0394, -6.1682, -6.1682, -6.1682, -6.1682, -6.1682, -6.1683, -6.1685, -6.1689, -6.1692, -6.1717, -6.3171, -6.3174, -6.3175, -6.3178, -6.32, -6.491, -6.491, -6.4911, -5.7575, -5.4614, -5.9245, -5.6438, -4.181, -5.4602, -5.3871, -5.8219, -5.4282, -4.3704, -4.607, -3.8531, -4.3141, -5.4241, -4.7814, -5.6479, -5.7488, -4.7861, -4.8584, -4.8063, -5.6231, -4.8408, -5.663, -5.3375, -4.6739, -4.8198, -5.2719, -5.3936, -5.3133, -5.5115, -5.6021, -5.5774, -5.6111, -5.4791, -5.4622, -5.5776, -5.6072, -4.651, -5.0926, -5.2957, -5.6551, -4.8246, -5.7716, -5.7716, -5.7726, -5.8987, -5.8987, -5.8989, -5.8995, -5.8997, -6.0471, -6.0476, -6.0488, -6.0494, -6.0497, -6.0501, -6.0526, -5.2974, -6.2215, -6.2215, -6.2215, -6.2215, -6.2215, -6.2215, -6.2215, -6.2218, -6.2218, -5.7689, -5.7696, -4.7547, -4.7341, -5.8985, -5.2956, -5.3292, -5.2935, -4.5283, -5.0325, -4.6547, -5.0813, -4.0641, -4.7593, -3.9967, -5.5062, -5.6771, -5.0702, -4.9352, -5.3561, -5.4565, -5.0736, -5.5649, -5.493, -5.0225, -5.0318, -5.0824, -5.399, -5.3726, -5.116, -5.3588, -5.375, -4.1292, -4.3509, -4.5035, -4.6355, -4.7879, -4.9038, -4.9049, -5.1869, -4.4686, -5.4681, -5.4716, -5.5832, -4.9654, -5.8591, -5.8593, -5.8597, -5.8604, -5.8608, -5.8613, -3.6492, -6.0335, -6.0343, -6.0343, -6.0343, -6.0353, -6.036, -6.037, -3.7116, -6.2448, -6.245, -5.581, -5.581, -5.27, -5.3823, -5.4989, -4.4016, -5.0341, -5.5808, -5.4874, -4.61, -4.1954, -4.5623, -4.3903, -5.2091, -5.5224, -5.1852, -5.3026, -5.2014, -5.1702, -5.1669, -5.2692, -5.3626, -5.2479, -5.4265, -5.4209], "loglift": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 1.1282, 1.1141, 1.1039, 1.1017, 1.0996, 1.0948, 1.0946, 1.0894, 1.0844, 1.0822, 1.0812, 1.08, 1.0732, 1.0727, 1.0721, 1.0623, 1.0619, 1.0612, 1.0605, 1.0478, 1.0478, 1.0474, 1.0466, 1.0458, 1.0455, 1.0455, 1.0453, 1.0451, 1.0427, 1.0308, 1.0059, 1.0139, 0.9137, 0.9711, 0.7334, 0.774, 0.965, 0.5446, 0.8065, 0.5743, 0.4494, 0.8417, 0.8838, 0.225, 0.5521, 0.138, 0.5897, 0.5631, 0.5409, 0.2655, 0.4906, 0.3321, 0.358, 0.4458, 0.2442, -0.0708, 0.1702, 0.4716, 0.2299, 0.3241, 0.387, 0.1858, 1.1966, 1.16, 1.1563, 1.1563, 1.1522, 1.1519, 1.1515, 1.1514, 1.144, 1.1439, 1.1438, 1.1437, 1.1328, 1.1328, 1.1328, 1.1328, 1.1328, 1.1328, 1.1326, 1.1322, 1.1318, 1.1294, 1.1178, 1.1175, 1.1174, 1.1172, 1.1151, 1.0985, 1.0985, 1.0984, 1.0599, 1.0287, 1.06, 1.0311, 0.7494, 0.9293, 0.9002, 1.0005, 0.8666, 0.4627, 0.5486, 0.2438, 0.3637, 0.8238, 0.4984, 0.8976, 0.9297, 0.3657, 0.3999, 0.2889, 0.8108, 0.1623, 0.8331, 0.5204, -0.4231, -0.4327, 0.1082, 0.302, 0.0473, 0.3573, 0.4432, 0.353, 0.4115, -0.2742, -0.4837, -0.0446, -0.0998, 1.4962, 1.4792, 1.4702, 1.447, 1.4439, 1.4358, 1.4357, 1.4348, 1.4263, 1.4263, 1.4261, 1.4256, 1.4253, 1.4113, 1.4108, 1.4095, 1.409, 1.4087, 1.4083, 1.4058, 1.3977, 1.3909, 1.3909, 1.3909, 1.3909, 1.3909, 1.3909, 1.3909, 1.3905, 1.3905, 1.3304, 1.3298, 1.182, 1.1503, 1.3055, 1.1047, 1.0785, 1.0246, 0.6766, 0.8649, 0.6253, 0.8641, 0.1867, 0.6093, 0.1003, 1.0558, 1.1553, 0.7084, 0.5838, 0.9056, 0.9935, 0.476, 0.9965, 0.8541, -0.044, -0.1014, -0.0793, 0.4698, 0.3499, -0.729, 0.0593, -0.5419, 1.7161, 1.7104, 1.7061, 1.7017, 1.6957, 1.6908, 1.6896, 1.6753, 1.663, 1.6557, 1.6521, 1.6455, 1.6262, 1.62, 1.6198, 1.6194, 1.6187, 1.6182, 1.6178, 1.6029, 1.599, 1.5981, 1.5981, 1.5981, 1.5971, 1.5963, 1.5953, 1.5711, 1.5689, 1.5687, 1.4434, 1.4378, 1.3719, 1.3964, 1.3493, 0.7502, 1.0749, 1.3482, 1.2851, 0.67, 0.1916, 0.4408, -0.1396, 0.7363, 1.1151, 0.403, 0.6278, 0.3483, 0.0262, -0.0112, 0.0105, 0.4824, -0.4147, 0.7517, 0.2802]}, "token.table": {"Topic": [2, 1, 2, 1, 2, 3, 4, 1, 2, 3, 4, 2, 3, 3, 1, 2, 3, 4, 3, 3, 1, 2, 3, 4, 1, 2, 4, 2, 4, 1, 3, 1, 2, 3, 4, 2, 1, 1, 1, 3, 1, 3, 3, 1, 2, 3, 4, 1, 2, 4, 3, 1, 2, 4, 1, 4, 1, 2, 3, 4, 1, 3, 2, 1, 2, 3, 4, 4, 1, 3, 2, 3, 3, 3, 4, 1, 2, 3, 4, 2, 3, 1, 2, 3, 1, 4, 1, 2, 4, 3, 4, 4, 4, 1, 2, 3, 4, 2, 2, 3, 1, 2, 3, 4, 3, 1, 4, 1, 2, 3, 4, 1, 4, 1, 1, 2, 4, 3, 1, 2, 3, 4, 1, 2, 3, 4, 4, 1, 2, 3, 4, 1, 2, 3, 4, 4, 3, 4, 1, 2, 3, 4, 1, 3, 4, 2, 3, 1, 3, 1, 3, 4, 3, 1, 2, 3, 4, 3, 4, 1, 2, 4, 1, 1, 3, 1, 3, 1, 2, 3, 4, 1, 2, 1, 1, 2, 3, 3, 4, 3, 1, 1, 2, 3, 1, 3, 4, 1, 4, 2, 1, 2, 4, 2, 1, 2, 3, 4, 1, 3, 2, 4, 4, 2, 1, 2, 3, 1, 2, 3, 4, 2, 1, 2, 4, 4, 1, 2, 3, 4, 1, 3, 1, 3, 4, 4, 4, 3, 3, 3, 1, 2, 4, 3, 2, 1, 1, 1, 2, 3, 4, 1, 2, 4, 1, 2, 3, 4, 2, 3, 1, 2, 3, 4, 1, 2, 3, 2, 2, 2, 4, 1, 1, 2, 3, 4, 1, 2, 4, 3, 4, 2, 3, 2, 2, 3, 4, 1, 2, 3, 4, 1, 2, 3, 4, 1, 3, 4, 1, 1, 2, 3, 4, 2, 3, 1, 2, 4, 1, 3, 3, 2, 1, 2, 2, 1, 2, 1, 1, 3, 1, 2, 4, 1, 2, 3, 4, 2, 3, 3, 4, 4, 1, 3, 3, 3, 1, 2, 3, 1, 2, 3, 4, 2, 1, 2, 4, 2, 1, 2, 3, 4, 3, 3, 1, 2, 2, 1, 2, 3, 4, 1, 1, 1, 3, 4, 1, 2, 3, 4, 2, 3, 1, 2, 3, 4, 1, 2, 3, 4, 4, 1, 2, 3, 2, 1, 2, 3, 1, 2, 3, 4, 1, 2, 3, 4, 2, 1, 2, 4, 4, 1, 2, 4, 2, 4, 2, 1, 3, 4, 2], "Freq": [0.9744643432418161, 0.2924138830744246, 0.6433105427637341, 0.37656034317078296, 0.22593620590246977, 0.15062413726831317, 0.25104022878052196, 0.3616398732718089, 0.37294111931155294, 0.2429767898544966, 0.02825311509936007, 0.11376788055382232, 0.7963751638767562, 0.8554312507866219, 0.9721183352332494, 0.1041744858376101, 0.6250469150256607, 0.2604362145940253, 0.9501399732000951, 0.9126554848680724, 0.23940258319493984, 0.17100184513924274, 0.5130055354177282, 0.03420036902784855, 0.25254180832096246, 0.707117063298695, 0.8315760394227248, 0.068469342550868, 0.890101453161284, 0.8354022250462443, 0.0928224694495827, 0.49625395849254134, 0.13233438893134436, 0.23158518062985262, 0.13233438893134436, 0.8658766129328307, 0.9526286761147603, 0.9250157512896989, 0.8978828348165644, 0.0855126509349109, 0.48258030380885236, 0.5362003375653915, 0.814624034269917, 0.26200974248761766, 0.22170055133567648, 0.40309191151941176, 0.10077297787985294, 0.21129344678377074, 0.29581082549727905, 0.5071042722810498, 0.8871788373576627, 0.26152959971282386, 0.7192063992102656, 0.9739228867140592, 0.2099299017738094, 0.7347546562083329, 0.25667036531136, 0.222447649936512, 0.4277839421856, 0.102668146124544, 0.8557480439599258, 0.08557480439599258, 0.9286899014989095, 0.21207550325865648, 0.42415100651731297, 0.03534591720977608, 0.3181132548879847, 0.961408930823853, 0.3392938493843546, 0.6785876987687092, 0.8186721201834408, 0.14884947639698926, 0.9501399750833827, 0.9780846432278422, 0.8316070325559797, 0.5594510271184722, 0.17738691103756432, 0.20467720504334347, 0.054580588011558254, 0.7272547463368724, 0.2237706911805761, 0.45552021401424386, 0.09110404280284878, 0.45552021401424386, 0.9399508918517417, 0.028483360359143686, 0.9526338418015031, 0.972890533784273, 0.9833470425482298, 0.1479631176387731, 0.8507879264229453, 0.775451120013851, 0.8315780128973451, 0.05533257696364456, 0.18444192321214853, 0.4057722310667268, 0.3504396541030822, 0.9743645952531195, 0.8113379987654077, 0.10141724984567596, 0.5606966440885367, 0.15291726656960092, 0.1784034776645344, 0.12743105547466743, 0.8872275055792692, 0.2655254750438528, 0.7080679334502742, 0.21175828138522781, 0.5049620556109279, 0.11402368997666114, 0.17918008424903892, 0.8638842141263189, 0.775531665050258, 0.9526704128248034, 0.6898074423685573, 0.08622593029606966, 0.21556482574017416, 0.8871841070079858, 0.2028464063918289, 0.47945514238068654, 0.12908407679480022, 0.18440582399257174, 0.18179099933486167, 0.3495980756439648, 0.19577492236062027, 0.2796784605151718, 0.9296391613446362, 0.44721803623549594, 0.39131578170605896, 0.05590225452943699, 0.11180450905887399, 0.49089453729794796, 0.18880559126844154, 0.10573113111032725, 0.2114622622206545, 0.9326764630315106, 0.12556771196592076, 0.8789739837614453, 0.09970333975410034, 0.43204780560110145, 0.3323444658470011, 0.13293778633880046, 0.38646797168881997, 0.3381594752277175, 0.24154248230551248, 0.8581777148730423, 0.08581777148730423, 0.9253105951670498, 0.04626552975835249, 0.17091478943029947, 0.6266875612444314, 0.17091478943029947, 0.8145438267173057, 0.07176568968129028, 0.03588284484064514, 0.502359827769032, 0.3588284484064514, 0.9501399762100244, 0.7755545203240798, 0.9526960069644143, 0.9743646141069211, 0.7755316965900234, 0.9721917963967034, 0.9526286412857236, 0.9501399752904925, 0.8784719835111323, 0.1171295978014843, 0.4446865856236162, 0.23293106865998944, 0.23293106865998944, 0.0847022067854507, 0.8324048090621124, 0.1387341348436854, 0.8883488338172548, 0.5357175983982828, 0.24553723259921295, 0.20089409939935607, 0.2111105267355516, 0.7388868435744307, 0.8145183030995484, 0.9391218319466926, 0.7408466196856562, 0.21167046276733034, 0.052917615691832585, 0.17784449773006875, 0.711377990920275, 0.10670669863804125, 0.9526910621196634, 0.9325637074348799, 0.9548893905612863, 0.7767268083556566, 0.08090904253704756, 0.1294544680592761, 0.9547967561101713, 0.23257628159056504, 0.42638984958270254, 0.19381356799213753, 0.15505085439371002, 0.9758992003686937, 0.8145801563710523, 0.9106197572749755, 0.8315988322420345, 0.8315897498213779, 0.9743645952531195, 0.3732431696747553, 0.3158211435709468, 0.3158211435709468, 0.4077648176748436, 0.3262118541398749, 0.16310592706993746, 0.12232944530245309, 0.8904572627944349, 0.9083213414000433, 0.865876775819652, 0.9064143745218916, 0.9556471139645141, 0.6714558374669528, 0.2546901452460856, 0.02315364956782596, 0.02315364956782596, 0.2613583553866175, 0.6969556143643133, 0.33237207832493665, 0.5982697409848861, 0.8975123170078909, 0.9669769912579796, 0.9614631557302245, 0.8145535939822963, 0.9501467044004976, 0.8554448563762904, 0.6616866328641595, 0.16966323919593834, 0.18662956311553217, 0.8145763605569027, 0.9547969147947593, 0.8638380897741104, 0.9788957052587935, 0.49732141858975565, 0.1570488690283439, 0.18322368053306787, 0.18322368053306787, 0.9016592688119967, 0.06935840529323051, 0.7755238838354834, 0.39539843898624394, 0.1911092455100179, 0.26359895932416266, 0.1515694016113935, 0.07593373310014127, 0.9112047972016952, 0.4398763550911715, 0.2999156966530715, 0.17994941799184289, 0.07997751910748573, 0.12372581600624083, 0.8042178040405653, 0.061862908003120415, 0.910513593940867, 0.9743645106440957, 0.776245478794868, 0.17249899528774845, 0.8638511837036537, 0.15603929087981647, 0.6241571635192659, 0.1950491135997706, 0.026006548479969412, 0.07468757541845765, 0.7468757541845765, 0.1493751508369153, 0.8145718012734321, 0.7755316965900234, 0.9743645952531195, 0.950146707637428, 0.8658769521752326, 0.1651089236927476, 0.0825544618463738, 0.7429901566173642, 0.10177204261239789, 0.7124042982867852, 0.10177204261239789, 0.10177204261239789, 0.5058402981355781, 0.22481791028247916, 0.028102238785309895, 0.22481791028247916, 0.2867578734102847, 0.14337893670514235, 0.5018262784679982, 0.8883460425962136, 0.41400995798037893, 0.38334255368553605, 0.0766685107371072, 0.12266961717937154, 0.1137686267040812, 0.7963803869285684, 0.5154452248549367, 0.43614595949263874, 0.9813061355446099, 0.8883083905795908, 0.9501399764357801, 0.8554115685267382, 0.9286901434356808, 0.972114777960565, 0.9743896679368379, 0.8904642624544035, 0.9721049814271749, 0.8904293310455528, 0.9512073905880553, 0.126320897717617, 0.7579253863057019, 0.08204296108389042, 0.24612888325167126, 0.6563436886711234, 0.09735766763413121, 0.4218832264145686, 0.11358394557315309, 0.373204392597503, 0.9743622595190647, 0.8554312507139884, 0.043226600422741235, 0.907758608877566, 0.9296310880038362, 0.9526295674728469, 0.9501399488111464, 0.9501399547025191, 0.8554264550639111, 0.23771607152190366, 0.17828705364142775, 0.5942901788047591, 0.04923310546383265, 0.29539863278299594, 0.5415641601021591, 0.0984662109276653, 0.9743717835016237, 0.7659643211428173, 0.13926624020778497, 0.06963312010389248, 0.9743646093586976, 0.12447121731842123, 0.6845916952513168, 0.062235608659210614, 0.12447121731842123, 0.9658164465515803, 0.9398109066185752, 0.9526655053230623, 0.8904608657289554, 0.954816964291048, 0.5463460497930096, 0.28505011293548327, 0.11877088038978469, 0.047508352155913876, 0.9527334161547631, 0.9249946108944795, 0.5622455245098189, 0.3982572465277884, 0.046853793709151575, 0.32872463468223545, 0.4930869520233532, 0.0657449269364471, 0.09861739040467063, 0.04956641931927684, 0.9417619670662599, 0.5454717562342493, 0.42425581040441607, 0.02020265763830553, 0.02020265763830553, 0.37903576338962147, 0.43318372958813883, 0.07219728826468981, 0.12634525446320716, 0.831555912877567, 0.19929960245347358, 0.19929960245347358, 0.5978988073604208, 0.8658854941572347, 0.14566033841035467, 0.6797482459149884, 0.19421378454713956, 0.19472153875758566, 0.2271751285505166, 0.2920823081363785, 0.2920823081363785, 0.29495681394212436, 0.46013262974971403, 0.12978099813453473, 0.11798272557684975, 0.9547974617113438, 0.31702050379575436, 0.2717318603963609, 0.36230914719514784, 0.7754621478963477, 0.07200018326338217, 0.21600054979014652, 0.7200018326338217, 0.2878452357575214, 0.6716388834342166, 0.9286901327323284, 0.0337589992049667, 0.6751799840993341, 0.2700719936397336, 0.9106196339384212], "Term": ["\u4e00", "\u4e00\u751f", "\u4e00\u751f", "\u4e8b", "\u4e8b", "\u4e8b", "\u4e8b", "\u4eba", "\u4eba", "\u4eba", "\u4eba", "\u4eba\u5011", "\u4eba\u5011", "\u4ee3", "\u4f4f", "\u4f7f\u7528", "\u4f7f\u7528", "\u4f7f\u7528", "\u4fef\u77b0", "\u5011", "\u505a", "\u505a", "\u505a", "\u505a", "\u5149", "\u5149", "\u5171\u9cf4", "\u51b0\u6dc7\u6dcb", "\u51b0\u6dc7\u6dcb", "\u5200", "\u5200", "\u5230", "\u5230", "\u5230", "\u5230", "\u526a\u5f71", "\u529b", "\u529b\u6c23", "\u529f\u592b", "\u529f\u592b", "\u52c7\u6c23", "\u52c7\u6c23", "\u53f3", "\u5403", "\u5403", "\u5403", "\u5403", "\u5473\u9053", "\u5473\u9053", "\u5473\u9053", "\u547d", "\u5496\u5561", "\u5496\u5561", "\u54aa", "\u54e5\u54e5", "\u54e5\u54e5", "\u5531", "\u5531", "\u5531", "\u5531", "\u554f\u984c", "\u554f\u984c", "\u559d\u5b8c", "\u5634", "\u5634", "\u5634", "\u5634", "\u5690", "\u5730\u7403", "\u5730\u7403", "\u5834\u666f", "\u5834\u666f", "\u586b\u5e73", "\u5916\u5a46", "\u591c\u66f2", "\u5922", "\u5922", "\u5922", "\u5922", "\u5922\u60f3", "\u5922\u60f3", "\u5929", "\u5929", "\u5929", "\u5973\u4eba", "\u5973\u4eba", "\u599d", "\u5a18\u5b50", "\u5abd", "\u5abd\u5abd", "\u5abd\u5abd", "\u5b78\u7fd2", "\u5bb6\u5ead", "\u5beb", "\u5beb", "\u5beb", "\u5beb", "\u5beb\u4e0a", "\u5c0f\u5b69", "\u5c0f\u5b69", "\u5e36", "\u5e36", "\u5e36", "\u5e36", "\u5e73\u539f", "\u5f48\u594f", "\u5f48\u594f", "\u5fc3", "\u5fc3", "\u5fc3", "\u5fc3", "\u5fc3\u9858", "\u5fcd\u8005", "\u60b2\u5287", "\u60c5\u7dd2", "\u60c5\u7dd2", "\u60c5\u7dd2", "\u610f\u7fa9", "\u611b", "\u611b", "\u611b", "\u611b", "\u611b\u60c5", "\u611b\u60c5", "\u611b\u60c5", "\u611b\u60c5", "\u611f\u61c9", "\u611f\u89ba", "\u611f\u89ba", "\u611f\u89ba", "\u611f\u89ba", "\u624b", "\u624b", "\u624b", "\u624b", "\u624b\u6307", "\u6253", "\u6253", "\u6253\u958b", "\u6253\u958b", "\u6253\u958b", "\u6253\u958b", "\u627e", "\u627e", "\u627e", "\u6298", "\u6298", "\u62b1", "\u62b1", "\u62cd", "\u62cd", "\u62cd", "\u62f3\u982d", "\u62ff", "\u62ff", "\u62ff", "\u62ff", "\u638f\u7a7a", "\u63a0\u596a", "\u63a5\u53d7", "\u63a8\u958b", "\u63db\u4f86", "\u64b2", "\u652f\u6490", "\u652f\u914d", "\u6539\u8b8a", "\u6539\u8b8a", "\u653e", "\u653e", "\u653e", "\u653e", "\u653e\u4e0b", "\u653e\u4e0b", "\u653e\u958b", "\u6545\u4e8b", "\u6545\u4e8b", "\u6545\u4e8b", "\u6575\u4eba", "\u6575\u4eba", "\u6587\u5b57", "\u661f", "\u6642\u4ee3", "\u6642\u4ee3", "\u6642\u4ee3", "\u6642\u5019", "\u6642\u5019", "\u6642\u5019", "\u6642\u5149", "\u6642\u5149\u6a5f", "\u6642\u5dee", "\u6642\u9593", "\u6642\u9593", "\u6642\u9593", "\u6643", "\u6708\u5149", "\u6708\u5149", "\u6708\u5149", "\u6708\u5149", "\u671b", "\u68af\u7530", "\u694a\u67f3", "\u6953\u8449", "\u69bb\u69bb\u7c73", "\u6a02\u7ae0", "\u6b4c", "\u6b4c", "\u6b4c", "\u6b4c\u8a5e", "\u6b4c\u8a5e", "\u6b4c\u8a5e", "\u6b4c\u8a5e", "\u6b63\u7fa9", "\u6bba", "\u6bdb\u75c5", "\u6c23", "\u6ce1", "\u6dda", "\u6dda", "\u6dda", "\u6dda", "\u6f14", "\u6f14", "\u71c8", "\u71c8", "\u7238", "\u7238\u7238", "\u723a\u723a", "\u7246\u58c1", "\u725b", "\u725b\u5152", "\u727d", "\u727d", "\u727d", "\u7403", "\u7434\u9375", "\u751f\u6b7b", "\u7537\u4eba", "\u756b\u9762", "\u756b\u9762", "\u756b\u9762", "\u756b\u9762", "\u767d", "\u767d", "\u767d\u9aee", "\u770b", "\u770b", "\u770b", "\u770b", "\u770b\u770b", "\u770b\u770b", "\u773c\u6dda", "\u773c\u6dda", "\u773c\u6dda", "\u773c\u6dda", "\u773c\u795e", "\u773c\u795e", "\u773c\u795e", "\u776b\u6bdb", "\u795e\u7d93", "\u7a7f", "\u7a7f", "\u7a7f\u4e0a", "\u7b49", "\u7b49", "\u7b49", "\u7b49", "\u7cd6", "\u7cd6", "\u7cd6", "\u7d00\u9304\u7247", "\u7d30\u6f22", "\u7d42\u5834", "\u7da0\u5730", "\u7f8e\u666f", "\u7fc5\u8180", "\u7fc5\u8180", "\u7fc5\u8180", "\u800d", "\u800d", "\u800d", "\u800d", "\u8072\u97f3", "\u8072\u97f3", "\u8072\u97f3", "\u8072\u97f3", "\u80cc", "\u80cc", "\u80cc", "\u80cc\u5c0d\u80cc", "\u81c9", "\u81c9", "\u81c9", "\u81c9", "\u81ea\u7136", "\u81ea\u7136", "\u82b1", "\u82b1", "\u8336", "\u8461\u8404", "\u85dd\u8853", "\u860b\u679c", "\u87b3\u8782", "\u8840", "\u884c\u674e", "\u89e3", "\u89e3\u85e5", "\u8a0a\u865f", "\u8a31\u4e0b", "\u8a5e", "\u8a5e", "\u8a69", "\u8a69", "\u8a69", "\u8a71", "\u8a71", "\u8a71", "\u8a71", "\u8a9e", "\u8abf\u6574", "\u8b80", "\u8b80", "\u8b80\u5b8c", "\u8cbb", "\u8cc7\u683c", "\u8cfa", "\u8d85\u4eba", "\u8eab", "\u8eab", "\u8eab", "\u8eb2", "\u8eb2", "\u8eb2", "\u8eb2", "\u8ffd\u56de", "\u9047\u898b", "\u9047\u898b", "\u9047\u898b", "\u914d\u4e0a", "\u9152", "\u9152", "\u9152", "\u9152", "\u9234", "\u9322", "\u9435\u76d2", "\u9577\u9aee", "\u9583", "\u958b", "\u958b", "\u958b", "\u958b", "\u958b\u4e0d\u4e86", "\u963b\u7919", "\u966a", "\u966a", "\u966a", "\u967d\u5149", "\u967d\u5149", "\u967d\u5149", "\u967d\u5149", "\u96d9\u622a\u68cd", "\u96d9\u622a\u68cd", "\u96e2\u958b", "\u96e2\u958b", "\u96e2\u958b", "\u96e2\u958b", "\u96e8", "\u96e8", "\u96e8", "\u96e8", "\u96e8\u6c34", "\u96ea", "\u96ea", "\u96ea", "\u96fb\u8a71", "\u9748\u9b42", "\u9748\u9b42", "\u9748\u9b42", "\u97f3\u6a02", "\u97f3\u6a02", "\u97f3\u6a02", "\u97f3\u6a02", "\u98a8", "\u98a8", "\u98a8", "\u98a8", "\u98a8\u4e7e", "\u98a8\u666f", "\u98a8\u666f", "\u98a8\u666f", "\u98b3", "\u99ac", "\u99ac", "\u99ac", "\u9ea5", "\u9ea5", "\u9eb5\u5305", "\u9f8d", "\u9f8d", "\u9f8d", "\u9f8d\u6372\u98a8"]}, "R": 30, "lambda.step": 0.01, "plot.opts": {"xlab": "PC1", "ylab": "PC2"}, "topic.order": [1, 4, 3, 2]};

function LDAvis_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(LDAvis) !== "undefined"){
   // already loaded: just create the visualization
   !function(LDAvis){
       new LDAvis("#" + "ldavis_el819771406353897965446630769311", ldavis_el819771406353897965446630769311_data);
   }(LDAvis);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/LDAvis
   require.config({paths: {d3: "https://d3js.org/d3.v5"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.2.2/pyLDAvis/js/ldavis.v3.0.0.js", function(){
        new LDAvis("#" + "ldavis_el819771406353897965446630769311", ldavis_el819771406353897965446630769311_data);
      });
    });
}else{
    // require.js not available: dynamically load d3 & LDAvis
    LDAvis_load_lib("https://d3js.org/d3.v5.js", function(){
         LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.2.2/pyLDAvis/js/ldavis.v3.0.0.js", function(){
                 new LDAvis("#" + "ldavis_el819771406353897965446630769311", ldavis_el819771406353897965446630769311_data);
            })
         });
}
</script></div></div>
</div>
</div>
<div class="section" id="clustering-documents-using-topic-model-features">
<h2>Clustering documents using topic model features<a class="headerlink" href="#clustering-documents-using-topic-model-features" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.cluster</span> <span class="kn">import</span> <span class="n">KMeans</span>

<span class="n">km</span> <span class="o">=</span> <span class="n">KMeans</span><span class="p">(</span><span class="n">n_clusters</span><span class="o">=</span><span class="n">num_of_topic</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">km</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">features</span><span class="p">)</span>
<span class="n">cluster_labels</span> <span class="o">=</span> <span class="n">km</span><span class="o">.</span><span class="n">labels_</span>
<span class="n">cluster_labels</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">cluster_labels</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ClusterLabel&#39;</span><span class="p">])</span>
<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">corpus_df</span><span class="p">,</span> <span class="n">cluster_labels</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="visualize-topic-distributions">
<h2>Visualize topic distributions<a class="headerlink" href="#visualize-topic-distributions" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x_axis</span> <span class="o">=</span> <span class="n">corpus_df</span><span class="o">.</span><span class="n">index</span>
<span class="n">y_axis</span> <span class="o">=</span> <span class="n">dt_df</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="c1"># Plot a stackplot - https://matplotlib.org/3.1.1/gallery/lines_bars_and_markers/stackplot_demo.html</span>
<span class="n">ax</span><span class="o">.</span><span class="n">stackplot</span><span class="p">(</span><span class="n">x_axis</span><span class="p">,</span> <span class="n">y_axis</span><span class="o">.</span><span class="n">T</span><span class="p">,</span> <span class="n">baseline</span><span class="o">=</span><span class="s1">&#39;wiggle&#39;</span><span class="p">,</span> <span class="n">labels</span><span class="o">=</span><span class="n">y_axis</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span>

<span class="c1"># Move the legend off of the chart</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">1.04</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/Alvin/.local/lib/python3.7/site-packages/ipykernel/ipkernel.py:287: DeprecationWarning: `should_run_async` will not call `transform_cell` automatically in the future. Please pass the result to `transformed_cell` argument and any exception that happen during thetransform in `preprocessing_exc_tuple` in IPython 7.17 and above.
  and should_run_async(code)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x7fe819abc470&gt;
</pre></div>
</div>
<img alt="../_images/topic-modeling-lyrics_37_2.png" src="../_images/topic-modeling-lyrics_37_2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tmtoolkit.topicmod.evaluate</span> <span class="kn">import</span> <span class="n">metric_coherence_gensim</span>
<span class="c1"># lda_model - LatentDirichletAllocation()</span>
<span class="c1"># vect - CountVectorizer()</span>
<span class="c1"># texts - the list of tokenized words</span>
<span class="n">norm_corpus</span>
<span class="n">norm_corpus_tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">doc</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">norm_corpus</span><span class="p">]</span>


<span class="n">metric_coherence_gensim</span><span class="p">(</span><span class="n">measure</span><span class="o">=</span><span class="s1">&#39;c_v&#39;</span><span class="p">,</span> 
                        <span class="n">top_n</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
                        <span class="n">topic_word_distrib</span><span class="o">=</span> <span class="n">lda</span><span class="o">.</span><span class="n">components_</span><span class="p">,</span> 
                        <span class="n">dtm</span><span class="o">=</span><span class="n">cv</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">norm_corpus</span><span class="p">),</span> 
                        <span class="n">vocab</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()),</span> 
                        <span class="n">texts</span><span class="o">=</span><span class="n">norm_corpus_tokens</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python-notes",
            path: "./exercise-ans"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python-notes'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Alvin Chen<br/>
        
            &copy; Copyright 2020 Alvin Chen.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="../_static/js/index.d3f166471bb80abb5163.js"></script>


    
  </body>
</html>